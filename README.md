# 우회전 위반 차량 자동 단속 시스템 🚗

## 프로젝트 소개 📝

본 프로젝트는 교차로에서 발생하는 우회전 위반 차량을 자동으로 단속하는 AI 기반 시스템입니다. YOLO와 DenseNet을 활용하여 다음과 같은 위반 사항을 감지합니다:

1. 정지선 일시정지 위반
2. 횡단자 보호 위반

## 주요 기능 🔍

### 1. 차량 검지 및 추적

- YOLO v8을 사용하여 차량 검지
- 차량 ID 추적을 통한 연속적인 모니터링
- 승용차/승합차 구분을 위한 DenseNet 모델 적용

### 2. 위반 감지

- 정지선에서의 일시정지 여부 확인
- 횡단자 보호 의무 위반 감지
- 신호등 상태에 따른 위반 판단

### 3. 자동 기록

- 위반 차량 정보 자동 기록
- 위반 시점 시간 기록
- 차종별 범칙금 자동 산정 (승용차: 6만원, 승합차: 7만원)

## 시스템 구성 🛠

### 사용된 모델

1. **YOLO v8**

   - 차량 검지용 모델 (`yolov8s.pt`)
   - 횡단자 검지용 모델 (`best.pt`)

2. **DenseNet**
   - 차종 분류 모델 (`model2.pth`)
   - 승용차/승합차 구분

### 데이터

- 오전/오후 교차로 영상 데이터
- 신호 정보 데이터 (`대연교차로_오전.csv`, `대연교차로_오후.csv`)

## 설치 및 실행 방법 💻

### 필요 라이브러리

```python
pip install torch torchvision
pip install ultralytics
pip install opencv-python
pip install pandas numpy pillow
```

### 실행 방법

1. 필요한 모델 파일들을 `model/` 디렉토리에 위치
2. 교차로 영상 데이터 준비
3. `violented_right_turn_project_230805_0730.ipynb` 실행

## 시스템 작동 원리 ⚙️

1. **차량 검지 및 추적**

   - ROI(Region of Interest) 설정을 통한 효율적인 검지
   - 차량 ID 추적으로 연속적인 모니터링 수행

2. **위반 판단 로직**

   - 정지선 영역에서의 움직임 분석
   - 횡단자 존재 여부 확인
   - 신호 상태와 연계한 종합적 판단

3. **결과 저장**
   - 위반 차량 정보 자동 기록
   - 날짜별 폴더 생성 및 데이터 저장
   - Excel 파일 형태로 위반 정보 출력

## 주의사항 ⚠️

- 오전 영상 00:04:49 시점: 좌측 건널목 우측 끝 보행자로 인한 위반 감지
- 오후 영상 00:15:59 시점: 좌측 건널목 보행자 이동으로 인한 위반 감지
